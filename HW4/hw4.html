<!-- Authors: Sara Mathieson (Assignment), Isaiah Mann -->
<!-- Description: Implementing matrix transformations -->
<!-- Dependencies: matrix.js, vector.js, transformation.js  -->

<!DOCTYPE html>
<html>
<head>
<title>Transformation Matrices</title>
<script src = "scripts/vector.js"></script>
<script src = "scripts/matrix.js"></script>
<script src = "scripts/transformation.js"></script>
<script>
    var canvas;    // DOM object corresponding to the canvas
    var graphics;  // 2D graphics context for drawing on the canvas

    // this GLOBAL variable is responsible for maintaining the current
    // set of transformations (3x3)
    var currentMatrix;

    // this function multiplies the current matrix by another transformation,
    // then updates the current matrix to the result
    function pushMatrix(newMatrix) {
        currMatrix = matrixMultiply(currMatrix, newMatrix); // order very important!

        // note that the setTransform method clear the current matrix and then
        // sets it to be this new one (it does not build up the transformations!)
        graphics.setTransform(currMatrix[0][0],currMatrix[1][0],
                           currMatrix[0][1],currMatrix[1][1],
                           currMatrix[0][2],currMatrix[1][2]);
    }

    function draw() {
        graphics.fillRect(0,0,50,50);
    }

    function init() {
        canvas = document.getElementById("theCanvas");
        graphics = canvas.getContext("2d");

        draw();  // draw something on the canvas
        currentMatrix = identityMatrix();
        matrix1 = new Matrix([[2, 3], [5, 10]]);
        matrix2 = new Matrix([[2, 3], [5, 10]]);
        matrix3 = matrixMultiply(matrix1, matrix2);
    }
</script>


</head>
<body onload="init()">
    <canvas id="theCanvas" width="450" height="300"></canvas>
</body>
</html>
